<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>title</title>
  <!-- 开发环境版本，包含了有帮助的命令行警告 -->
  <script src="vue.js"></script>
  <script src="vue-resource.js"></script>
</head>
<body>
<div id="box">
  <button @click="search()">search</button>
  <!--
    1、get请求
      this.$http.get('url',{param:{a:1,b:2}}).then(function(res){处理请求成功},function(res){处理请求失败});
  -->
</div>

</body>
</html>


<script>
  //创建Vue实例，得到 ViewModel
  var vm = new Vue({
    el: '#box',
    data: {},
    methods: {
      search() {
        //1、请求文本
        // this.$http.get('01.txt').then(res => {
        //   console.log("成功")
        //   //res参数：表示请求成功时返回的数据
        //   //返回的参数中，status表示请求的状态码；data表示返回的数据
        //   console.log(res.status)
        //   console.log(res.data)
        // }, err => {
        //   console.log("失败")
        //   console.log(err.status)//404：表示没有查找到
        // });


        //2、需要向后台传递参数并返回数值
        //需求：向后台传入两个数，返回两个数的和
        // this.$http.get('01-sum.php', {params: {a: 3, b: 10}}).then(res => {
        //   console.log(res.data)
        // }, err => {
        //   console.log(err.status)
        // })


        //3、请求真实数据
        // http://api.artgoer.cn:8084/artgoer/api/v1/user/324380/v3/topic/topicHomeByLabel?pageIndex=2&token=b544cd63-6d42-46fe-a96c-3cf96bae3113&topicId=62187
        // this.$http.get('http://api.artgoer.cn:8084/artgoer/api/v1/user/324380/v3/topic/topicHomeByLabel?pageIndex=2&token=b544cd63-6d42-46fe-a96c-3cf96bae3113&topicId=62187').then(res=>{
        //   console.log(res.data)
        //   console.log(res.data.data)
        //   console.log(res.data.data.commentList)
        //   console.log(res.data.data.commentList[0])
        //   console.log(res.data.data.commentList[0].createAt)
        // },err=>{
        //   console.log(err.status)
        // })


        //post请求
        //this.$http.post('url',{a:1,b:2},{emulateJSON:true}).then(function(res){请求成功},function(err){请求失败})

        //参数传递：{参数1:值1,参数2:值2}
        //{emulateJSON:true}：模拟json数据格式，将参数传递过去

        //求两个数的差
        this.$http.post('01-sub.php',{a:5,b:1},{emulateJSON:true}).then(res=>{
          console.log(res.data)
        },err=>{
          console.log(err.status)
        })


        //jsonp请求
        //this.$http.jsonp('url',{params:{a:1,b:2}},{emulateJSON:true}).then(function(res){处理请求成功的情况},
        // function(err){处理请求失败的情况})

        //到底该使用什么类型的其扭曲
        //get请求：参数会拼接到 url 上，一般保密性的信息不要使用这种方法，对文件有大小的限制
        //post请求：允许传递的数据大小大

        //注意：使用 那种请求方式是由后台开发人员决定的
      }
    }
  })
</script>